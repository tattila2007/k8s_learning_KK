1 / 7
Weight: 15
Upgrade the current version of kubernetes from 1.32.0 to 1.33.0 exactly using the kubeadm utility. 
Make sure that the upgrade is carried out one node at a time starting with the controlplane node. 
To minimize downtime, the deployment gold-nginx should be rescheduled on an alternate node before upgrading each node.


Upgrade controlplane node first and drain node node01 before upgrading it. 
Pods for gold-nginx should run on the controlplane node subsequently.

Cluster Upgraded?
pods 'gold-nginx' running on controlplane?

2 / 7
Weight: 15
Print the names of all deployments in the admin2406 namespace in the following format:

DEPLOYMENT   CONTAINER_IMAGE   READY_REPLICAS   NAMESPACE

<deployment name>   <container image used>   <ready replica count>   <Namespace>
. The data should be sorted by the increasing order of the deployment name.


Example:

DEPLOYMENT   CONTAINER_IMAGE   READY_REPLICAS   NAMESPACE
deploy0   nginx:alpine   1   admin2406
Write the result to the file /opt/admin2406_data.


Task completed?

3 / 7
Weight: 8
A kubeconfig file called admin.kubeconfig has been created in /root/CKA. There is something wrong with the configuration. Troubleshoot and fix it.


Fix /root/CKA/admin.kubeconfig


controlplane ~/CKA ➜  cat admin.kubeconfig 
apiVersion: v1
clusters:
- cluster:
    certificate-authority-data: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURCVENDQWUyZ0F3SUJBZ0lJUUhKNjFwY0YvRFF3RFFZSktvWklodmNOQVFFTEJRQXdGVEVUTUJFR0ExVUUKQXhNS2EzVmlaWEp1WlhSbGN6QWVGdzB5TlRBNU1qRXhORFUyTXpoYUZ3MHpOVEE1TVRreE5UQXhNemhhTUJVeApFekFSQmdOVkJBTVRDbXQxWW1WeWJtVjBaWE13Z2dFaU1BMEdDU3FHU0liM0RRRUJBUVVBQTRJQkR3QXdnZ0VLCkFvSUJBUUNzcEw5YTZ5THpyT3NMdVlML2FkSzNTeVNZRTd6dUlpRXUvdEtvQ0VPRkI5TVdnNEpIY2FaMkljTnoKckxZN1dGK09vb2VpNHdLc0xtVzFwR3JYWXU4M2NxaTJNTGIyb1Y4ZURvYi9aUHVhWitvSUR3MmRFQisvVjV3SApPMHNWUjRtYzEwc1dXclNzbmdackkzQllQWEZYVHlVcXUzUFcvdjNMeGhHT1Z6TFJLYmVpcHp0Mmdla28yRTJJCjB2NDFtMUxPdnRCUktEQ01tV25Db0pYQUtZbTVxNGF0NWJFQ2xodXgyQXdZaEd6ak5UOHZ6MlE0VXdWcmo1VDkKWTc1MStHOG1acGVuT3Z5UjRvcjVwV0hlZTBVODZyRW83T0J5STVITXp4aHIvY1VCZW9la0JrK1JwdzE0aE1ZcAoxVnI1RTdyVm9SNWxITzNVb3p4aExLbWI1TnlkQWdNQkFBR2pXVEJYTUE0R0ExVWREd0VCL3dRRUF3SUNwREFQCkJnTlZIUk1CQWY4RUJUQURBUUgvTUIwR0ExVWREZ1FXQkJRcHp3NUtCTTVna0czL01tc0ptY2RxNTYrR1N6QVYKQmdOVkhSRUVEakFNZ2dwcmRXSmxjbTVsZEdWek1BMEdDU3FHU0liM0RRRUJDd1VBQTRJQkFRQUFmSEZZZGlEZApoMGYwRFNreEsxbjJhaVdpRW9ZdWJ1RW5qMTcvQVFmMSs0dDZkYXZ3bVUzQmNMTFVCVHQ0Y29sMk9PbnFWR1NpCjJJU09qTjA2M0pHY3orN0Y5a3ZzeklWaUFnZTNnVHlYNHRMdkpRSkQwK3NlQkR5cytFaDRxUzVBdHpNZkZ4WTUKOHd5aEw5cHBnV1JSc3JNN2JNMzROajN2bXJQSHdTUUJsdEVTVXNuVFNHY0xrbGNlRGZCdm52dkY0QWdFbG55WgozZnk2UkJ3bm1HbkZjbFdQeHNEMXV1b2Q3TWYxUy9KSExJcUJlVVBSdlFoZU5ZOE16aHViWjgzVzZkMzN5R3VSClg2Um91WGN1NmhTRHVlaTg4Rnd4dXpXUEhXTjFvUXFkb3IxK3BRd0NCbDhtZ01icnRYWVdONEpNZUlRaFZ5Q1oKTlBKaTNHNHQ5amRFCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K
    server: https://controlplane:4380
  name: kubernetes
contexts:
- context:
    cluster: kubernetes
    user: kubernetes-admin
  name: kubernetes-admin@kubernetes
current-context: kubernetes-admin@kubernetes
kind: Config
preferences: {}
users:
- name: kubernetes-admin
  user:
    client-certificate-data: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURLVENDQWhHZ0F3SUJBZ0lJZmpsalVqa2pYZzR3RFFZSktvWklodmNOQVFFTEJRQXdGVEVUTUJFR0ExVUUKQXhNS2EzVmlaWEp1WlhSbGN6QWVGdzB5TlRBNU1qRXhORFUyTXpoYUZ3MHlOakE1TWpFeE5UQXhNemhhTUR3eApIekFkQmdOVkJBb1RGbXQxWW1WaFpHMDZZMngxYzNSbGNpMWhaRzFwYm5NeEdUQVhCZ05WQkFNVEVHdDFZbVZ5CmJtVjBaWE10WVdSdGFXNHdnZ0VpTUEwR0NTcUdTSWIzRFFFQkFRVUFBNElCRHdBd2dnRUtBb0lCQVFDM3IrcU8KbG1hcUNaTE9OcGtJbDNBRzMxQ2VrSTM0enRiUU9uVUVudkxwQkc2T1BsVStuWnZoUzZRYitJVk85TnpReU9ZRgpIRThEaEpEZDQ3UElKREJBUTBIUWlJOEZPdnkvOFdOOTdLNzd4WkhZWkd0SFV2NmloSUpYOTZ1LzVZYStiSzZuCnhVRytvYlkzYUQ2ZkNGRjlPVDhZR0VGbGRTOU41clIrdnlHSkVyYjM3UlMwTWJrUkhJMTZOUThBRjlGTkNEU3oKMUE4dm1mL2JCak1aSFM2aWtFMVorVnduWlNQL2VRQnNRcFU1c3BrdWhtSlA0Q1VEK3JKSDNPa2p3TlpEVDFHSgpMYVA4WkE1NGJFSDFUQ3VwcmEyaXViT0pKMEUyT01Ob1lFeG00WHhtOG0rbU1LVGtHVnQ5dHJONmNrNW41M09FCkozb3lTbWZOUWVNUnpzVjNBZ01CQUFHalZqQlVNQTRHQTFVZER3RUIvd1FFQXdJRm9EQVRCZ05WSFNVRUREQUsKQmdnckJnRUZCUWNEQWpBTUJnTlZIUk1CQWY4RUFqQUFNQjhHQTFVZEl3UVlNQmFBRkNuUERrb0V6bUNRYmY4eQphd21aeDJybnI0WkxNQTBHQ1NxR1NJYjNEUUVCQ3dVQUE0SUJBUUNkZlpKa3hYa2tmN3ZIVHhIclNmVmkxV0hICkFNQ2VTT3RPZ0NKNWNtbTJxVXJGRFN4UjFWL2tqTFJZbnVPbHJGbXZGeEhjMDlnZ0MrWDdXMFVwTGRFZGlXOWsKT3FjWFVmdVlGYS9lVk5pNzFVd01MVkRUMzhNODFZN05BcStOdjFqOU02TVljU2QyWmRhYnRlOXlnUUJITXlqYgptb2oxRDBMeGtQUzF3eGpvcXNiYUR3dnB2TjRhaXhmSUttN3ZvSWdHeXI5b0ZiTGVkV2wvL0ZiTEhHNGxBZ1dPCjBUYlJJaGFBb2FDLzFCZVMreWRqbFF4YkdjaW8xTDJPSjAxQkROR3pEUGxMelVuQW02Ris0eXNiUXpzUUZZazgKU0Y4NXlzbmpVdGpTMXFrKzJreWdSaE1HdU1JelpFaWloSFFnbE1leGZxM3dvcUY0MzZzdGl0cXFsQ0EvCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K
    client-key-data: LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlFcEFJQkFBS0NBUUVBdDYvcWpwWm1xZ21TemphWkNKZHdCdDlRbnBDTitNN1cwRHAxQko3eTZRUnVqajVWClBwMmI0VXVrRy9pRlR2VGMwTWptQlJ4UEE0U1EzZU96eUNRd1FFTkIwSWlQQlRyOHYvRmpmZXl1KzhXUjJHUnIKUjFMK29vU0NWL2VyditXR3ZteXVwOFZCdnFHMk4yZytud2hSZlRrL0dCaEJaWFV2VGVhMGZyOGhpUksyOSswVQp0REc1RVJ5TmVqVVBBQmZSVFFnMHM5UVBMNW4vMndZekdSMHVvcEJOV2ZsY0oyVWovM2tBYkVLVk9iS1pMb1ppClQrQWxBL3F5Ujl6cEk4RFdRMDlSaVMyai9HUU9lR3hCOVV3cnFhMnRvcm16aVNkQk5qakRhR0JNWnVGOFp2SnYKcGpDazVCbGJmYmF6ZW5KT1orZHpoQ2Q2TWtwbnpVSGpFYzdGZHdJREFRQUJBb0lCQUd4ZXpDcU5qMHBZVlpWMQozcm1UNXRNWEkxQTVocGs1SnNFNUM5ckxFQkxydTNJT1VtcWJ2K0NlcU5hYnU4S0djbFIzZ2tXWG13SS9UdHlxClAySWYvNXVhVXBUK1RDclF6MWRLeWVEOEo0eUExbmZ0WHVGNGxLUTdPMDg4M3NaYld6Q3puQ045SERtazNJVTUKNm1BWEgwU2E1cCtIaCtXY3ltalNhTUN5Y00yV0RhdGJKd0tmT053Z3EzWDBMZHZWUG9KTEhVRkFpTUlzVVFVKwp0TXVJcUNRdDJEdVBDelpqbGQzVXNPbEtQRzJNWHdzODhLUVBnMFVjdlIxbUc2L2dnRTA1LzFtZ0ZKZ1JZNU1OCmlmdnZpbzJZMXJxeEJ1WFFrRmdFSjZ0bm9xUDBQRVFQK2lYTXZNY0dqQ3RqUFNDUDF6QmFVRVk4SnAyd3hzMXUKbUFITDNzRUNnWUVBekZ2V2J2OWsrcGNya0kvMVV3NVZ4Z3VaK1pNY2w0RmtuMXFRRzNXZHp6WmpUUE1oWjFDQQpGYVRucjdUYjBIeU1MbklxWUJKeUZXM1VlcGhUZzV2cmdQbTVsaTdTN1dCRXovODZXS3Y0S1U3dVhkOUdRVyt6CnVaVVJ3MkFpTGNOM01WUjhuWlZ3Mkg3eU1SckNVR1VDZzRPNldWb1k3elJqSmJwd25qNnFzNWNDZ1lFQTVoclEKcXZPWkl4RUZtZzJaeVlzMGZEbkpMZjc0a0pxUitGTGJtdGhOcnpuc05Mc3pHSHZncHNRUUJCZU0zaEo0SXIzcwpESUpUcDN6SEZFaE5EVzZYeWozOVZVS1A5UzhIUWpSb3JnTW4xTEJPdlZaTWx3VGV5Q3h0aVJONFJYck5qMkQwCjkrZmc4aUV2d0c1M1Awa1M2a2V6Q0tROHlwdHdzeHl1R2hqWE9TRUNnWUFyTmxnM2pHV3IzMzlreUN3VjdmZ1IKTXE3U2FWc29aa0lDdUVHMHJNQTc2c0pBcVVDcytnYTdqTzA0NkVONjZIc3o3d3dxMkh1ck1GZzN2REljcUVHNgpPaFFXUDd4MldWN3pwSUtQOFgwK0x1U1VrUHZvSmxpWXEzN2dFMW5tMTJoQzFCeXRyY1g0NFk4UTl4bVRxbWhICnF2a2luN3lhQ0RmVzZIK2IxcUI5N1FLQmdRRE5WbktOaXpKRjA2UFBGSUgvRTRVenNoRndSVTZsSS9wTXdnd00KZ3lmWHpYV1duTkw4NzFiTEdyMDhHWlB3ZkVUT28vTG9Pc2pSOW94azhod29kMTltNzZpSkZBd0kvUDJhTzlDSwpNSEN6NE4xekluYlljVlVwQmxSODlXM25lcTNEVy85ZTFvS3JMNmhBTFpPbVd0eFJTc2hlVnNtVTk5ODdSc1dxCnJpNHBZUUtCZ1FDVFJoV0dXeUJzZlFyT2hnTUVEYkJQaHQwcWVHR2FEb1ZPQWtnRjM4amVva0Y4ZHNlZHBIbmgKR2NBdUs4cWlRNi9yRURlT01TYnJQWkprT1Y1ZXB4WFZKdTFnQS8zMy85aXlIL0Jwb1IwYWIySVhuSkJzYnVUVApxNUJtMWc5NnVEQlppZ1FYT1dOZ3QzRndqR3VqOFV0OGhDcysvQ2hUQlJ4b0d6UHZrZjFnaEE9PQotLS0tLUVORCBSU0EgUFJJVkFURSBLRVktLS0tLQo=

controlplane ~/CKA ➜ 

4 / 7
Weight: 12
Create a new deployment called nginx-deploy, with image nginx:1.16 and 1 replica.
Next, upgrade the deployment to version 1.17 using rolling update and add the annotation message
Updated nginx image to 1.17.


Image: nginx:1.16

Task: Upgrade the version of the deployment to 1:17

5 / 7
Weight: 20
A new deployment called alpha-mysql has been deployed in the alpha namespace. However, the pods are not running. 
Troubleshoot and fix the issue. 
The deployment should make use of the persistent volume alpha-pv to be mounted at /var/lib/mysql and should use the environment variable MYSQL_ALLOW_EMPTY_PASSWORD=1 to make use of an empty root password.


Important: Do not alter the persistent volume.

Troubleshoot and fix the issues

6 / 7
Weight: 10
Take the backup of ETCD at the location /opt/etcd-backup.db on the controlplane node.


Troubleshoot and fix the issues

7 / 7
Weight: 20
Create a pod called secret-1401 in the admin1401 namespace using the busybox image. 
The container within the pod should be called secret-admin and should sleep for 4800 seconds.

The container should mount a read-only secret volume called secret-volume at the path /etc/secret-volume. 
The secret being mounted has already been created for you and is called dotfile-secret.


Pod created correctly?
